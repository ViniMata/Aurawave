<div class="estoque-section">
  <div class="section-header">
    <h2>Inventário por Categoria</h2>
    <p>Monitore em tempo real os níveis de estoque por RFID</p>
  </div>
  
  <div class="cards-wrapper">
    <button class="arrow left" (click)="scrollLeft()" [disabled]="scrollPosition <= 0">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <div class="cards-container" #cardsContainer>
      <div class="card" 
           *ngFor="let item of estoque$ | async; trackBy: trackByItem" 
           (click)="selecionarItem(item.nome)"
           [class.selected]="item.nome === selectedItem">
        
        <div class="card-header">
          <div class="status-indicator" [class]="getStatusClass(item.quantidade)"></div>
          <div class="card-menu">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <circle cx="8" cy="4" r="1" fill="currentColor"/>
              <circle cx="8" cy="8" r="1" fill="currentColor"/>
              <circle cx="8" cy="12" r="1" fill="currentColor"/>
            </svg>
          </div>
        </div>
        
        <div class="card-icon">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path d="M28 12L16 6L4 12L16 18L28 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M4 18L16 24L28 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        
        <div class="card-content">
          <h3>{{ item.nome }}</h3>
          <div class="quantity">
            <span class="number">{{ item.quantidade }}</span>
            <span class="unit">unidades</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="getProgressWidth(item.quantidade)"></div>
          </div>
          <span class="status-text" [class]="getStatusClass(item.quantidade)">
            {{ getStatusText(item.quantidade) }}
          </span>
        </div>
      </div>
    </div>

    <button class="arrow right" (click)="scrollRight()">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>
</div>
